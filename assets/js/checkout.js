var successCallback=function(){var e=jQuery("form.woocommerce-checkout");e.off("checkout_place_order",paymentRequest),e.submit()},paymentRequest=function(){if(!jQuery("#payment_method_prizedai").is(":checked"))return successCallback(),!1;var e=jQuery("#prizedai-mpesa-number").val().trim().split(" ").join("");return isNaN(e)||!e.length||e.length<10||e.length>13?(jQuery("#prizedai-mpesa-number").css("border-bottom-color","#a94442"),jQuery("#prizedai-mpesa-number-helper").removeClass("hidden"),!1):(jQuery("#prizedai-mpesa-number-helper").addClass("hidden"),jQuery("#prizedai-mpesa-number").css("border-bottom","0"),prizedai_hide_submit(hide=!0),jQuery.ajax({type:"POST",url:"/index.php?payment_action=1",data:{mpesaPhoneNumber:e},success:function(e){"0"!==e?(jQuery("#prizedai-mpesa-status-info").html("<strong>Please enter MPESA you pin on your phone.</strong>"),transactionID=e):jQuery("#prizedai-mpesa-status-info").html("<strong>Failed. please try again</strong>")}}),!1)};function prizedai_hide_submit(e=!0){jQuery("#place_order").attr("disabled",e),showLoader=e,e||jQuery("#place_order").click()}function prizedai_complete_mpesa(){showLoader=!0,jQuery.ajax({type:"POST",url:"/index.php?payment_status=1",data:{transactionID:transactionID},success:function(e){"1"===e?successCallback():jQuery("#prizedai-mpesa-status-info").html("<strong>Payment not received. Please wait.</strong>")}})}jQuery(function(e){e("form.woocommerce-checkout").on("checkout_place_order",paymentRequest),showLoader=!1,transactionID=null,e("#billing_phone").keyup(function(){e("#prizedai-mpesa-number").val(e("#billing_phone").val())})}),jQuery(function(e){e("body").on("updated_checkout",function(){e('input[name="payment_method"]').change(function(){e("#payment_method_prizedai").is(":checked")||prizedai_hide_submit(!1)})})}),jQuery(document).ajaxStart(function(){showLoader&&(jQuery("#peizedai-mpesa-loader").removeClass("prizedai-hidden"),jQuery("#prizedai-mpesa-field-controls").addClass("prizedai-hidden"))}),jQuery(document).ajaxStop(function(){showLoader&&(jQuery("#peizedai-mpesa-loader").addClass("prizedai-hidden"),jQuery("#prizedai-mpesa-field-controls").removeClass("prizedai-hidden"))});
